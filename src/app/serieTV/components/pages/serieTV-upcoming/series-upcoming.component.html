<div class="page-container">

    <!-- HEADER -->
    <header class="page-header">
        <h1 class="page-title">Upcoming TV Series</h1>
        <p class="page-subtitle">
            Serie TV attualmente in arrivo o appena iniziate ðŸ“º
        </p>
    </header>

    <div class="page-content">

        <!-- FILTERS -->
        <aside class="filters">

            <div class="filters-header">Filtri</div>

            <!-- GENRES -->
            <div class="filter-block">
                <div class="filter-header-row">
                    <h4 class="filter-title">Generi</h4>
                    <button
                            class="filter-reset"
                            *ngIf="(selectedGenres$ | async)?.size"
                            (click)="resetGenreFilter()">
                        RESET
                    </button>
                </div>

                <label *ngFor="let genre of availableGenres">
                    <input
                            type="checkbox"
                            #cb
                            [checked]="(selectedGenres$ | async)?.has(genre)"
                            (change)="toggleGenre(genre, cb.checked)" />
                    {{ genre }}
                </label>
            </div>

        </aside>

        <!-- RESULTS -->
        <section class="results">

            <ng-container *ngIf="series$ | async as series">

                <div class="results-header">
          <span class="results-count">
            {{ series.length }} risultati
          </span>
                </div>

                <!-- GRID -->
                <div class="games-grid" *ngIf="series.length > 0">
                    <app-serie-tv-card
                            *ngFor="let serie of series"
                            [serie]="serie"
                            mode="date">
                    </app-serie-tv-card>
                </div>

                <!-- EMPTY -->
                <p *ngIf="series.length === 0" class="no-results">
                    Nessuna serie TV in arrivo trovata.
                </p>

                <!-- PAGINATION -->
                <div class="pagination" *ngIf="pages.length > 1">
                    <button
                            *ngFor="let page of pages"
                            class="page-btn"
                            [class.active]="page === (currentPage$ | async)"
                            (click)="changePage(page)">
                        {{ page }}
                    </button>
                </div>

            </ng-container>

        </section>

    </div>
</div>
